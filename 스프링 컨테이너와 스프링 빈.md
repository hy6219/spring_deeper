# 스프링 컨테이너와 스프링 빈

## 1. 스프링 컨테이너 생성

```java
ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);  
MemberService memberService = applicationContext.getBean("memberService",MemberService.class);  
OrderService orderService = applicationContext.getBean("orderService",OrderService.class);
```

- `ApplicationContext` = `스프링 컨테이너` 이자 `인터페이스`
- AnnotationConfigApplicationContext 는 ApplicationContext를 구현한 구현체 중 하나일 뿐
- 스프링 컨테이너는 `xml 기반` /`어노테이션 기반의 자바 설정 클래스` 로 만들 수 있음
		- 최근은 어노테이션 기반으로 많이 만들고 있음

![](data:image/png;base64,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)

- 스프링 컨테이너 생성 시에는 구성 정보를 지정해주어야 함
- 컨테이너 내부에는 빈 이름을 key, 빈 객체를 value로 매핑하여 구성정보를 갖추고 있음

![스프링 빈 등록](https://velog.velcdn.com/images%2Fwoply%2Fpost%2F9bb1492d-1415-4077-a533-878444cb91bb%2Fimage.png)

- 파라미터로 넘어온 구성 정보 클래스를 기반으로 `@Bean`  혹은 `@Bean(name = 내 입맛대로 빈 이름 지정)` 으로 지정해둔 메서드를 활용해서 빈 객체를 등록

⚠ ** 빈 이름은 항상 다른 이름을 부여 ** 해야 함!!
( 같은 이름일 경우, 다른 빈이 무시되거나, 기존 빈을 덮어버리거나, 설정에 따라 오류가 발생할 수 있음 )
( 스프링 부트는 겹쳐지면 튕겨내는 것이 디폴트로 되어 있음 )

![스프링 빈 의존관계 설정 ](https://velog.velcdn.com/images%2Fwoply%2Fpost%2F52670185-81c9-469d-92b3-3862a5251753%2Fimage.png)

- 의존 관계를 주입해줌
- 단순 자바 코드를 호출하는 것 같지만, 이 차이는 싱글톤 컨테이너에서 존재함! ( 추후 정리 )


+ 스프링은 `빈 생성` 과 `의존관계 주입 단계` 가 분리되어 있음
+ 이렇게 자바코드로 구성 정보를 설정해주면, 이 두 단계가 동시에 처리되는데, 이는 이해를 돕기 위한 부분이므로 참고만 하자(개념적으로) (실제로 이렇게 동시에 처리되는 경우가 있기도 함)


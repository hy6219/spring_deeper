# IoC,DI,컨테이너

## 1. 제어의 역전 IoC(Inversion of Control)

- **프로그램의 제어 흐름을 외부에서 관리**하는 것

### 프레임워크 vs 라이브러리

- 프레임워크 : `내가 작성한 코드를 제어하고, 대신 실행`하는 것(ex : JUnit)
- 라이브러리 : `내가 작성한 코드가 직접 제어의 흐름을 담당`하는 것

## 2. 의존성 주입 DI(Dependency Injection)

- 의존관계는 ** 정적인 클래스 의존관계와, 실행시점에 결정되는 동적인 객체(인스턴스) 의존관계 **  둘을 분리해서 생각해야 함
- `애플리케이션 실행 시점(런타임)` 에 외부에서 실제 구현 객체를 생성하고, 클라이언트에 전달해서 클라이언트와 서버의 실제 의존관계가 연결되는 것
- 👍 ** 정적인 클래스 의존관계를 변경하지 않고,  동적인 객체 인스턴스 의존관계를 쉽게 변경 가능 **

✅ `정적인 클래스 의존관계`

- `import 코드만 보고 쉽게 판단할 수 있는 관계`
- 우클릭 - Diagram- Show Diagram 으로 확인 가능한 객체간 관계들
(이때 툴바에서 클립 아이콘으로 show dependencies 확인 가능)

** 인터페이스는 어떤것에도 의존하지 않고, 구현체가 인터페이스를 의존!! **

✅  동적인 객체의 의존관계

- ex ) DiscountPolicy 의 구현체 중 어떤 것이 배정될 것인지는 실행시켜봐야 알 수 있음
- 애플리케이션 실행 시점에 실제 생성된 객체 인스턴스의 참조가 연결되는 의존 관계

## 3. `IoC 컨테이너` 또는 `DI 컨테이너`

- AppConfig 처럼 `객체를 생성하고 관리`하면서 의존관계를 연결하는 것
- 의존관계 주입에 초점을 맞추어서 최근에는 주로 "DI 컨테이너"라고 부름
- 또는 어셈블러, 오브젝트 팩토리 등으로 불리기도 함

## 4. 스프링 컨테이너

- `ApplicationContext 를 스프링 컨테이너` 라고 함
- `@Configuration`이 붙은 클래스를 구성 정보로 사용하고, `@Bean`이 붙은 메서드를 모두 호출해서 반환된 객체를 스프링 컨테이너에 등록
- `@Bean(name = "xxx")` 로 이름을 바꿔줄 수도 있지만, 왠만하면 바꾸지 않고 default 값을 사용해주는 것이 좋을 것
- 스프링빈은 applicationContext.getBean() 메서드로 접근/조회 가능
- 스프링 컨테이너 사용의 장점

▶ 조금씩 알아가보기! 요약하면 엔터프라이즈 서비스 개발시 편리함







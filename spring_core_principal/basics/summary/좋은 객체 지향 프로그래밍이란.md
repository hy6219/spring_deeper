# 좋은 객체 지향 프로그래밍이란

## 객체 지향 특징

1. 추상화
2. 캡슐화
3. 상속
**4. 다형성**

## 객체 지향 프로그래밍의 정의

- 컴퓨터 프로그램을 `객체들의 모임`으로 파악해서, `각각의 객체가 메시지를 주고받고 데이터를 처리할 수 있음(협력)`
- 프로그램을 `유연`하고 `변경에 용이하게` 만들기 때문에 대규모 소프트웨어 개발에 많이 사용됨

** ⁉ 유연하고 변경이 용이 ⁉**

➡ 컴포넌트를 쉽고 유연하게 변경하면서 개발할 수 있는 방법

바로 ** "다형성" **

## 다형성

### 1. 다형성의 실세계 비유

- 실세계 : 객체 지향 ≠ 1:1
- 세상을 `역할(인터페이스)` 과 `구현(인터페이스 구현체)`으로 구분💥💥

(example01)
운전자가 있고, 그 운전자가 원래는 K3를 타고 있었다. 그 운전자가 테슬라로 갈아탄다고 해서 운전을 못하나?

▶ NO! 
▶ 자동차가 바뀌어도 역할에 영향을 안줌!
↔ 1. 운전자 역할이 있고
2. 자동차 역할이 있고
3. 자동차 구현이 "K3, 아반떼, 테슬라 ,..." 가 될 수 있음
↔ 대상을 바꾸지 않고 새로운 대상을 출시할 수 있음
↔ `클라이언트에 영향을 주지 않고` 새로운 기능을 제공할 수 있음

(example02)

로미오와 줄리엣 공연이 있는데, 로미오 역할로 장동건이나 원빈 등 중 한 명이 올 수 있고
줄리엣 역할로 김태희나 송혜교 등 중 한 명이 올 수 있다.

↔ 역할 : 로미오역할, 줄리엣역할
구현 : (로미오 역할에 대한 구현) - 장동건, 원빈
(줄리엣 역할에 대한 구현) - 김태희, 송혜교

↔ 구현체가 바뀔 수 있음
↔ 로미오 역할을 하는 사람과 줄리엣 역할을 하는 사람 사이에는 상관이 없음
➡ `클라이언트=로미오 역할`, `서버=줄리엣 역할` 이라고 가정하면
서버의 구현이 바뀐다고 클라이언트의 구현이 변화되는 것은 아님
➡ `대체 가능하게 됨`
**➡ `유연하고 변경이 용이`**

### 2. 역할과 구현을 분리

#### 2-1. 장점

- 세상이 `단순`해지고 `유연`해지며 `변경도 편리`해짐
- 클라이언트는
		- `대상의 역할(인터페이스)` 만 알면 된다
		- 구현 대상의 `내부 구조를 몰라도 된다`
		- 구현 대상의 `내부 구조가 변경되어도 영향을 받지 않는다`
		- `구현 대상 자체를 변경해도 영향을 받지 않음`

#### 2-2. 자바 언어의 다형성을 활용

- 역할은 인터페이스
- 구현은 인터페이스를 구현한 객체
- 객체 설계시 `역할과 구현을 명확하게 분리`
- 객체 설계시 역할(인터페이스)를 먼저 부여하고, 그 역할을 수행하는 구현 객체 만들기
(꼭 인터페이스일 필요는 없지만, 인터페이스는 다중 상속이 가능하기 때문에 권장)

#### 2-3. 객체의 협력이라는 `관계` 부터 생각

혼자 있는 객체는 없다!!

ex) - 클라이언트 : 요청, 서버 : 응답

수 많은객체 클라이언트와 객체 서버는 서로 협력 관계를 가짐

- 클라이언트 - 서버 관계는
[클라이언트 ➡ 서버] 일 수도
[클라이언트 ➡ 서버 + 클라이언트 ➡ 서버1, 서버2] 일 수도 있음

#### 2-4. 자바 언어의 다형성

- 다형성으로 인터페이스를 구현한 객체를 실행 시점에 유연하게 변경할 수 있음

1️⃣ 오버라이딩: 상속받은 부모 객체의 메서드의 내용을 재정의

2️⃣ 오버로딩:  같은 이름의 메서드를 `매개변수 유형과 갯수`가 다르게 정의하는 것

3️⃣ 다형성 : 상속 관계에 있는 객체에 대해서, 하나의 타입에 여러 객체를 대입할 수 있는 성질

#### 2-5. 다형성의 본질
- 인터페이스(역할)를 구현한 객체 인스턴스를 `실행 시점에 유연하게 변경`할 수 있음
- 다형성의 본질을 이해하려면 `협력`이라는 객체 사이의 관계에서 시작해야 함
✅  MemberService가 클라이언트, 서버가 MemberReposiroty save() 인 의존관계에 있고
		
MemberRepository가 구현된 곳이 Memory MemberReposiroty save(), JDBC MemberRepository save()가 있을 때 

두 구현체는 선택할 수 있지만 그 베이스는 "관계"에서 기원!
- `클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경할 수 있음`
(`확장 가능한 설계`)

#### 2-6. 한계점
- 역할 자체가 변경되면, 서버와 클라이언트 모두에 큰 변경이 발생하기 때문에
인터페이스를 변화가 없는 방식으로 잘 설계하는 것이 중요

### 3. 스프링과 객체지향

- 다형성이 제일 중요!
- 스프링은 다형성을 극대화해서 이용할 수 있게 도와줌
- IoC(제어의 역전), DI(의존관계 주입)은 다형성을 활용해서 역할과 구현을 편리하게 다룰 수 있도록 지원
- 스프링을 사용하면 구현을 편리하게 변경할 수 있음!

💥💥 **스프링에서 중요한 것은 "다형성"+"SOLID"**

